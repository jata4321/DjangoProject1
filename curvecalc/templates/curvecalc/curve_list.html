{% extends 'navigator\base.html' %}

{% block static %}
    {{ block.super }}
    {% load static %}
    <link rel="stylesheet" href="{% static 'curvecalc\css\pro_styles.css' %}">
{% endblock %}

{% block title %}
    <title>CurveList</title>
{% endblock %}

{% block content %}
<div class="container my-3">
    <div class="card card-body">
        <h1 class="display-4">Yield Curve Calculator+.</h1>
        <ol>
            <li><a href="{% url 'navigator:index' %}">Navigator Page</a></li>
            <li><a href="{% url 'curvecalc:curve_create' %}">Create Curve</a></li>
            <li><a href="{% url 'portcalc:index' %}">Portfolio Calculator</a></li>
            <li><a href="{% url 'curvecalc:curve_form' %}">Form Curve</a></li>
        </ol>
    </div>
</div>
<br>
<div class="container">
    <div class="card">
        <div class="card-body">
            <form method="get" class="row g-3 align-items-end">
                <div class="col-md-5">
                    <label for="{{ date_form.start_date.id_for_label }}" class="form-label">Start Date</label>
                    {{ date_form.start_date }}
                </div>
                <div class="col-md-5">
                    <label for="{{ date_form.end_date.id_for_label }}" class="form-label">End Date</label>
                    {{ date_form.end_date }}
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-primary w-100">Filter</button>
                </div>
            </form>
        </div>
        <form method="get">
            <div class="mb-3 mx-3">
              <label for="searchInput" class="form-label">Country label</label>
              <input type="text"
                     name="search"
                     class="form-control"
                     id="searchInput"
                     value="{{ search }}"
                     placeholder="Input country name"
                     hx-get="{% url 'curvecalc:_curve_list' %}"
                     hx-trigger="keyup changed delay:800ms"
                     hx-target="#curve_list, #pagination"
              >
            </div>
        </form>
    </div>
    <div id="curve_list">
        {% include 'curvecalc/partials/_curve_list.html' %}
    </div>
    <div class="pagination justify-content-center my-4" id="pagination">
        {% include 'curvecalc/partials/_paginator.html' %}
    </div>
</div>

{% endblock %}

{% block chart %}
{% endblock chart %}

{% block footer %}
<br>
<p><small>Footer:</small></p>
    <small> &copy; Copyright TJ. 2025. <em>All</em> rights reserved.</small>
{% endblock %}